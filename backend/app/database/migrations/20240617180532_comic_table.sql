-- Create "comics" table
CREATE TABLE `comics` (`id` varchar(21) NOT NULL, `created_at` timestamp NOT NULL, `updated_at` timestamp NOT NULL, `chapter` bigint unsigned NOT NULL, `title` varchar(255) NOT NULL, `slug` varchar(255) NOT NULL, `covers` json NOT NULL, `status` varchar(255) NOT NULL, `is_translate_completed` bool NOT NULL DEFAULT 0, `up_count` bigint unsigned NOT NULL DEFAULT 0, PRIMARY KEY (`id`)) CHARSET utf8mb4 COLLATE utf8mb4_bin;
-- Create "genres" table
CREATE TABLE `genres` (`id` varchar(21) NOT NULL, `created_at` timestamp NOT NULL, `updated_at` timestamp NOT NULL, `name` varchar(255) NOT NULL, `type` enum('comic') NOT NULL, PRIMARY KEY (`id`)) CHARSET utf8mb4 COLLATE utf8mb4_bin;
-- Create "comic_chapters" table
CREATE TABLE `comic_chapters` (`id` varchar(21) NOT NULL, `created_at` timestamp NOT NULL, `updated_at` timestamp NOT NULL, `chapter` bigint unsigned NOT NULL, `title` varchar(255) NULL, `volumn` varchar(255) NULL, `lang` varchar(255) NOT NULL, `up_count` bigint unsigned NOT NULL DEFAULT 0, `down_count` bigint unsigned NOT NULL DEFAULT 0, `is_last_chapter` bool NOT NULL DEFAULT 0, `comic_chapters` varchar(21) NULL, PRIMARY KEY (`id`), INDEX `comic_chapters_comics_chapters` (`comic_chapters`), CONSTRAINT `comic_chapters_comics_chapters` FOREIGN KEY (`comic_chapters`) REFERENCES `comics` (`id`) ON UPDATE NO ACTION ON DELETE SET NULL) CHARSET utf8mb4 COLLATE utf8mb4_bin;
-- Create "comic_imgs" table
CREATE TABLE `comic_imgs` (`id` varchar(21) NOT NULL, `created_at` timestamp NOT NULL, `updated_at` timestamp NOT NULL, `b2key` varchar(255) NOT NULL, `height` bigint NOT NULL, `name` varchar(255) NOT NULL, `optimized_size` bigint NOT NULL, `size` bigint NOT NULL, `width` bigint NOT NULL, `comic_chapter_imgs` varchar(21) NULL, PRIMARY KEY (`id`), UNIQUE INDEX `b2key` (`b2key`), INDEX `comic_imgs_comic_chapters_imgs` (`comic_chapter_imgs`), CONSTRAINT `comic_imgs_comic_chapters_imgs` FOREIGN KEY (`comic_chapter_imgs`) REFERENCES `comic_chapters` (`id`) ON UPDATE NO ACTION ON DELETE SET NULL) CHARSET utf8mb4 COLLATE utf8mb4_bin;
