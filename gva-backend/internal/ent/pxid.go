// Code generated by ent, DO NOT EDIT.

package ent

import (
	"context"
	"fmt"

	"github.com/gva/app/database/schema/pxid"
	"github.com/gva/internal/ent/admin"
	"github.com/gva/internal/ent/department"
	"github.com/gva/internal/ent/genre"
	"github.com/gva/internal/ent/manga"
	"github.com/gva/internal/ent/mangachapter"
	"github.com/gva/internal/ent/permission"
	"github.com/gva/internal/ent/role"
)

// prefixMap maps PXID prefixes to table names.
var prefixMap = map[string]string{
	"admin": admin.Table,
	"dpm":   department.Table,
	"magr":  genre.Table,
	"mga":   manga.Table,
	"mcr":   mangachapter.Table,
	"perm":  permission.Table,
	"role":  role.Table,
}

// IDToType maps a pxid.ID to the underlying table.
func IDToType(ctx context.Context, id pxid.ID) (string, error) {
	prefix := id.Prefix()
	typ := prefixMap[prefix]
	if typ == "" {
		return "", fmt.Errorf("IDToType: could not map prefix [%s] to a type", prefix)
	}
	return typ, nil
}
